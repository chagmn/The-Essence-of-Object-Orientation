# 5장. 책임과 메세지
### 자율적 책임

객체지향 공동체를 구성하는 기본 단위는 '자율적'인 객체이다. 객체지향에서의 객체들은 기능을 구현하기위해 협력하고 책임을 다하기 위해 자율적으로 판단하고 행동한다.
자율적인 객체란 스스로 정한 원칙에 따라 판단하고 스스로 의지를 기반으로 행동하는 객체를 말한다.
적절한 책임이 자율적이 객체를 만들고, 자율적인 객체들이 모여 유연하고 단순한 협력을 만든다.

`예시로 왕이 모자 장수에게 증언을 요청했을 때 증언만 할 수 있다면 어떤 방법으로 증언하던지의 판단은 모자장수가 결정한다. 를 책에서 소개한다.`

### 너무 추상적인 책임

포괄적이고 추상적인 책임을 선택하더라도 무조건 좋은 것은 아니다. 책임의 방법을 제한할 정도로 구체적인 것(자율성 저하)도 문제이지만 협력의 의도를 명확하게 표현하지 못할 정도로 추상적인 것도 문제이다.
다양한 환경에서 추상적이고 포괄적인 책임은 재사용과 유연성의 도움을 주나 의도를 명확하게 설명할 수 있는 수준 안에서 추상적이어야한다.

### '어떻게'가 아니라 '무엇'을

자율적인 책임의 특징은 어떻게가 아니라 무엇을 해야하는지를 정한다.

### 메시지와 메서드
하나의 객체는 메세지를 전송함으로써 다른 객체에 접근한다. 송신자는 메시지 전송을 통해서만 다른 객체의 책이믕ㄹ 요청 할 수 있고 수신자는 오직 메세지 수신을 통해서만 자신의 책임을 수행 할 수 있다.
객체의 외부와 내부는 메시지를 기준으로 분리된다. 내부적으로 처리하는 방법을 '메서드' 라고 부른다.

### 다형성
다형성이란 서로 다른 유형의 객체가 동일한 메시지에 대하여 서로 다르게 반응하는 것을 의미한다. 어떻게 실행할 것인지는 수신자가 결정한다. 다형성을 하나의 메시지와 하나 이상의 메서드 관계로 볼 수 있다.

### 유연하고 확장 가능하고 재사용성이 높은 협력의 의미

- 협력이 유연해진다.
- 협력이 수행되는 방식을 확장할 수 있다.
- 협력이 수행되는 방식을 재사용 할 수 있다.

### 책임 주도 설계

책임주도 설계는 객체들간의 주고받는 메시지를 기반으로 적절한 역할과 책임, 협력을 발견하는 것이다. 핵심은 어떤 행위가 필요한지를 결정 후에 이 행위를 수행할 객체를 결정하는 것이다.
이 과정을 What/Who 사이클이라고 한다. 여기서 행위는 메시지이다. 협력이라는 문맥안에서 필요한 메시지를 결정하고 수신하기에 적합한 객체를 선택한다.
어떤 메시지가 필요한지를 먼저 고민하라. 메시지 결정 전까지는 객체에 관해 고민하면 안되고 결정된 후에 이 메시지를 처리 할 객체를 선택한다.
이는 객체를 자율적으로 만들고 캡슐화를 보장하며 결합도를 낮게 유지시켜주기 때문에 설계를 유연하게 만든다.

### 객체의 인터페이스
인터페이스는 어떤 사물이 마주치는 두 경계를 상호작용 할 수 있게 해주는 것을 말한다. 일반적으로 세가지 특징을 가진다.

- 인터페이스의 사용법을 익히면 내부 구조나 동작방식을 몰라도 된다.
- 인터페이스 자체는 변경하지 않고 내부 구성이나 작동 방식을 변경하는 것은 사용자에게 영향을 미치지 않는다.
- 대상이 변경되더라도 동일한 인터페이스를 제공하기만하면 아무런 문제없이 상호작용 가능하다.

외부에서 접근가능한 공개된 인터페이스를 공용 인터페이스라고 부르고 그 외 내부 구조와 작동방식을 구현이라고 부른다.
객체의 외부와 내부를 구분하는 것에서 객체지향의 힘이 나온다.

인터페이스 구현의 분리
- 좀 더 추상적인 인터페이스
- 최소 인터페이스
- 인터페이스 구현 간 차이가 있다는 점을 인식

변경에 안전한 지대를 만드는 것을 구현이라고 한다.
객체가 가져야 할 상태와 메서드 구현은 객체 내부에 속한다. 이 부분을 수정하더라도 객체 외부에 영향을 미쳐서는 안된다. 객체 외부에 영향을 미치는 변경은 객체의 공용 인터페이스를 수정할 때여야한다.
데이터 캡슐화는 외부에서 접근 가능한 행위만을 골라서 인터페이스를 통해 노출한다. 


# 결론
- 자율적인 책임은 협력을 단순하게 만든다. 세부적인 사항은 무시하고 의도를 드러내면서(추상화) 협력을 단순하게 만든다.
- 자율적인 책임은 외부와 내부를 명확하게 분리한다. 외부에 노출한 책임은 볼 수 있지만 내부에 어떻게 수행하는지는 보면 안된다.
- 책임이 자율적일 경우 내부 방법을 변경하더라도 외부 영향을 미치지 않아야한다.
- 자율적인 책임은 협력의 대상을 다양하게 선택 할 수 있는 유연성을 제공한다.


**책임이 자율적일수록 추상화되며 응집도가 높아지고 결합도가 낮아지며 캡슐화가 증진되고 인터페이스와 구현이 명확하게 분리되며 설계의 유연성과 재사용성이 향상된다.**


# 나의 생각
