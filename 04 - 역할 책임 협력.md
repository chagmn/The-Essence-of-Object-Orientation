# 4장. 역할, 책임, 협력

## 협력
협력은 다른 객체의 **요청**으로 부터 시작이 되고 **응답**을 하거나 처리하는대에 도움이 필요하면 또 다른 객체한테 **요청**을 하기도 한다.

>협력의 예시
>1. 왕은 토끼에게 증인을 데려오라고 요청
>2. 토끼는 모자장수에서 입장하라고 요청
>3. 모자장수는 재판장에 입장하면서 토끼의 요청에 응답
>4. 왕은 모자장수에게 증언하라고 요청
>5. 모자장수는 증언하면서 증언하라는 요청에 응답

## 책임
책임은 앞장에서 다뤘던 것처럼 어떤 요청에 대해서 행동해야하는 의무가 있는 경우를 뜻한다.
크레이그 라만은 객체의 책임을 2가지로 나누고 있다.
1. 하는 것
- 스스로 행동하는 것
- 다른 객체의 행동을 시작하게 하는 것
- 다른 객체의 행동을 제어하고 조절하는것
ex) 왕은 토끼에게 증인을 데려오라하고 모자 장수에게는 증언하라 함

2. 아는 것 
- 관련된 객체에 대해 아는 것
- 자신이 할 수 있는 것에 대해 아는 것
- 자신의 정보에 대해 아는 것
ex) 토끼는 모자장수가 증인인 것에 대해 알고 있음

책임은 외부에 제공해 줄 수 있는 정보(아는 것)과 외부에 제공해 줄 수 있는 서비스(하는 것)으로 구성된다 했는데 이것은 **공용 인터페이스**을 구성하고 공용인터세이스의 개념은 객체의 캡슐화로 이어진다.

## 역할
역할은 책임의 집합이다.
모자장수, 요리사, 앨리스 순으로 증언하는 것을 생각하면 왕or여왕은 매번 토끼에게 증인을 데려오라 요청하고 토끼는 증인을 데려오고 증인은 왕의 요청에 따라 증언을 하게 된다.
왕, 여왕은 판사의 역할을 하고 있고 모자장수, 요리사, 앨리스는 증인의 역할을 하고 있다.
-> 왕, 여왕은 판사로 추상화 / 모자장수, 요리사, 앨리스는 증인으로 추상화 가능

재판이라는 협력 속에서 왕은 여왕이라는 다른 객체로 대체될 수 있고 모자장수는 요리사나 앨리스로 대체가 가능하다.
-> **협력에서 동일한 역할 = 협력에서 동일한 책임의 집합 수행 가능 = 역할 대체 가능**

역할을 사용하면 유사한 협력을 **추상화**해서 과부하를 줄일 수 있고 다양한 객체들이 협력할 수 있어서 협력이 **유연**해지며 대체 가능해지면서 **재사용성**도 높아진다.
-> 객체지향 설계의 **단순성**, **유연성**, **재사용성**을 뒷받침함 

## 객체지향 설계 기법
1. 책임-주도 설계 (Responsibility-Driven Development)
2. 디자인 패턴 (Design Pattern) 
3. 테스트-주도 개발 (Test-Driven Development)

# 결론
객체의 존재 이유는 협력에 참여하기 위해 존재하지 데이터를 저장하기 위해 존재하지 않는다. 
협력의 참여하기 위해서는 객체의 책임이 중요해지며 협력 속에서 어떤 책임과 역할을 할 것인지를 고려하며 객체지향 설계를 해야한다.
- 협력 설계 -> 협력 속에서 각 객체의 책임 설계 -> 각 객체의 행동 설계 -> 행동에 필요한 데이터 정의 -> 클래스 개발 

**책임과 역할을 통해서 유사한 객체들을 추상화하자!!!**


# 나의 생각
어떤 기능을 개발할 때 항상 작은 단위부터 생각했던 것 같은데 이번 챕터를 통해서 나의 고정적인 사고방식을 좀 더 유연하게 만들었던 것 같다. "큰 그림을 그려라!" 라는 말이랑 다르겠지만.. 큰 부분 먼저 생각하고 그 안에서 비슷한 부분은 묶고 재사용하는 형태로 추상화하며 개발해야겠다는 생각이 들었다.
